local Workspace = game:GetService("Workspace")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local TweenService = game:GetService("TweenService")
local VirtualInput = game:GetService("VirtualInputManager")

-- Remove lobby touch triggers
for _, obj in pairs(Workspace.Lobby:GetDescendants()) do
    if obj:IsA("TouchTransmitter") then
        obj:Destroy()
    end
end

-- Function to equip all weapons
local function equipAllWeapons()
    if not LocalPlayer.Character then return end
    
    local weapons = {"Sword", "Bomb", "Rocket Launcher"} -- Add all tool names here
    for _, weaponName in pairs(weapons) do
        local tool = LocalPlayer.Backpack:FindFirstChild(weaponName) or LocalPlayer.Character:FindFirstChild(weaponName)
        if tool and not LocalPlayer.Character:FindFirstChild(weaponName) then
            tool.Parent = LocalPlayer.Character
        end
    end
end

-- Auto-kill enemies
spawn(function()
    while getgenv().TwinkleCancelMadeThisShit do
        task.wait()
        equipAllWeapons() -- Equip weapons before attacking
        
        for _, enemy in pairs(Players:GetChildren()) do
            if enemy.Team ~= LocalPlayer.Team and enemy.Team ~= "Spectators" then
                if enemy ~= Players.LocalPlayer and enemy.Character and enemy.Character:FindFirstChild("HumanoidRootPart") 
                   and not enemy.Character:FindFirstChild("ForceField") and enemy.Character.Humanoid.Health > 0 then
                   
                    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") 
                       and LocalPlayer.Character.Humanoid.Health > 0 and not LocalPlayer.Character:FindFirstChild("ForceField") then
                       
                        -- Attack loop
                        for _ = 1, 5 do
                            pcall(function()
                                -- Tween to enemy
                                local tween = TweenService:Create(
                                    LocalPlayer.Character.HumanoidRootPart,
                                    TweenInfo.new(0.1),
                                    {CFrame = enemy.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -2)}
                                )
                                tween:Play()
                                tween.Completed:Wait()
                                
                                -- Swing sword
                                VirtualInput:SendMouseButtonEvent(960, 482, 0, true, game, 1)
                                task.wait(0.1)
                                VirtualInput:SendMouseButtonEvent(960, 482, 0, false, game, 1)
                            end)
                        end
                    end
                end
            end
        end
    end
end)

-- Auto-swing all weapons
spawn(function()
    while getgenv().TwinkleCancelMadeThisShit do
        equipAllWeapons()
        -- Swing sword
        VirtualInput:SendMouseButtonEvent(960, 482, 0, true, game, 1)
        task.wait(0.1)
        VirtualInput:SendMouseButtonEvent(960, 482, 0, false, game, 1)
        -- Throw bomb (if you want auto-throw, add keypress for 'R' or whatever the bomb key is)
        -- Fire rocket (would need keypress for rocket launcher)
        task.wait(0.5)
    end
end)

print("AutoKill+AllWeapons Loaded! Enable with: getgenv().TwinkleCancelMadeThisShit = true")
